"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.migrate = void 0;
const cosmiconfig_1 = require("cosmiconfig");
const add_1 = require("./add");
function migrate({ cwd }) {
    var _a;
    const explorer = cosmiconfig_1.cosmiconfigSync('husky');
    const result = explorer.search(cwd);
    if (result) {
        const config = result.config;
        for (const [hookName, cmd] of Object.entries((_a = config.hooks) !== null && _a !== void 0 ? _a : {})) {
            console.log('migrate', hookName);
            add_1.add({ cwd: process.cwd(), hookName, cmd });
        }
        console.log('done');
        console.log(`you can remove your old config ${result.filepath}`);
    }
}
exports.migrate = migrate;
